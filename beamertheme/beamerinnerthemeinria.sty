% Title and part pages.
% Itemize environments.
% Enumerate environments.
% Description environments.
% Block environments.
% Theorem and proof environments.
% Figures and tables.
% Footnotes.
% Bibliography entries.

%% Tikz wehn using \useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight);
%% bottom left corner coords: (0,0)
%% top right corner coords:   (12.8,9.6)

%% Textbox (absolute)
%% (0,0) is top left corner


\mode<presentation>

\setbeamertemplate{background}{% canvas}{
  \begin{tikzpicture}
    \useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight);
    \ifnum\thepage>1\relax%
      \filldraw [color=gris_clair_inria] (0,0) -- (0,9.6) -- (12.8,9.6) -- (12.8,0) -- cycle;
      \filldraw [color=rouge_inria]      (0,9.6) -- (0,5.6)  -- (4,5.6) -- (4,9.6) -- cycle;
      \filldraw [color=white]            (0.3,0.3) -- (0.3,9.3) -- (12.5,9.3) -- (12.5,0.3) -- cycle;
    \fi

    \ifnum\thepage=1\relax%
      \filldraw [color=white]            (0,0) -- (0,9.6) -- (12.8,9.6) -- (12.8,0) -- cycle;
      \filldraw [color=gris_fonce_inria] (0.3,0.3) -- (0.5,9.3) -- (12.5,9.3) -- (12.5,0.3) -- cycle;
      \filldraw [color=rouge_inria]      (0,9.6) -- (0,5.6)  -- (4,5.6) -- (4,9.6) -- cycle;
      
    \fi
  \end{tikzpicture}
}

\defbeamertemplate*{title page}{inria}[1][]
{
  \begin{textblock*}{7.7cm}(4.5cm,4.5cm)
    {\textcolor{white} {
        {\LARGE   \inserttitle}\\[4mm]  
        {\insertsubtitle}\\[3mm]
        {\insertauthor}\\[3mm]
        {\insertinstitute}
      }}
  \end{textblock*}
}

\defbeamertemplate*{section page}{inria}[1][]
{
  % draw full square 
  \begin{tikzpicture}          
    \useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight);
    \filldraw [color=gris_clair_inria] (0,15) -- (12.8,15) -- (12.8,0) -- (0,0) -- cycle;
    \filldraw [color=white]  (0.4,14.6) -- (12.4,14.6) -- (12.4,5.8) -- (0.4,5.8) -- cycle;
    \filldraw [color=rouge_inria] (0,15) -- (4.8,15) -- (4.8,10) -- (0,10) -- cycle;
    \node at (12.0,5.6) {\includegraphics[width=.05\textwidth]{beamertheme/img/Inr_logo_rouge.png}};  

  \end{tikzpicture}
  % section number in top-left red square
  
  \begin{textblock*}{5cm}(60mm,45mm)
    {\textcolor{rouge_inria}{\LARGE \insertsection} }
  \end{textblock*}
  \begin{textblock*}{13cm}(10mm,20mm)
    {\textcolor{white} {{{\GRAND {\padzeroes[2]{\decimal{section}}}}}}}
  \end{textblock*}
}

\defbeamertemplate*{toc page}{inria}[1][]
{
  % \setbeamertemplate{footline}{
  %   \vspace*{-0.025\paperheight}
  %   \raisebox{12.5ex}{\textcolor{rouge_inria}{\hspace*{.8cm}\bf \insertframenumber~-\beamer@shorttitle - \beamer@shortauthor\hfill} }
  % }
  \begin{tikzpicture}          
    \useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight);
    \filldraw [color=white] (0,15) -- (12.8,15) -- (12.8,0) -- (0,0) -- cycle;
    \filldraw [color=gris_fonce_inria] (0.4,14.6) -- (12.4,14.6) -- (12.4,5.8) -- (0.4,5.8) -- cycle;
    \filldraw [color=rouge_inria] (0,15) -- (4.8,15) -- (4.8,10) -- (0,10) -- cycle;
    \node at (12.0,5.6) {\includegraphics[width=.05\textwidth]{beamertheme/img/Inr_logo_rouge.png}};  
  \end{tikzpicture}
  % section number in top-left red square
  \begin{textblock*}{10cm}(55mm,35mm)
    {\tableofcontents}
  \end{textblock*}
  \begin{textblock*}{13cm}(10mm,30mm)
    {\textcolor{white} {
        {\LARGE   Contents}
      }}
  \end{textblock*}
}

\def\tocpage{\usebeamertemplate*{toc page}}


\mode<all>
